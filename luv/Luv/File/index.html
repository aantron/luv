<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>File (luv.Luv.File)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">luv</a> &#x00BB; <a href="../index.html">Luv</a> &#x00BB; File</nav><header class="odoc-preamble"><h1>Module <code><span>Luv.File</span></code></h1><p>File operations.</p><p>See <a href="../../../filesystem.html"><i>Filesystem</i></a> in the user guide and <a href="http://docs.libuv.org/en/v1.x/fs.html"><i>File system operations</i></a> in libuv.</p><p>This module exposes all the filesystem operations of libuv with an asynchronous (callback) interface. There is an additional submodule, <a href="Sync/index.html"><code>Luv.File.Sync</code></a>, which exposes all the same operations with a synchronous (direct) interface. So, for example, there are:</p><pre class="language-ocaml"><code>Luv.File.chmod :
  string -&gt; Mode.t list -&gt; ((unit, Error.t) result -&gt; unit) -&gt; unit

Luv.File.Sync.chmod :
  string -&gt; Mode.t list -&gt; (unit, Error.t) result</code></pre><p>For filesystem operations, synchronous operations are generally faster, because most asynchronous operations have to be run in a worker thread. However, synchronous operations can block.</p><p>A general guideline is that if performance is not critical, or your code may be used to access a network filesystem, use asynchronous operations. The latter condition may be especially important if you are writing a library, and cannot readily predict whether it will be used to access a network file system or not.</p><p>Synchronous operations are typically best for internal applications and short scripts.</p><p>It is possible to run a sequence of synchronous operations without blocking the main thread by manually running them in a worker. This can be done in several ways:</p><ul><li>Directly using the <a href="../Thread_pool/index.html" title="Luv.Thread_pool">libuv thread pool</a>.</li><li>By creating a thread manually with <a href="../Thread/index.html#val-create"><code>Luv.Thread.create</code></a>.</li><li>By creating a thread manually with OCaml's standard <a href="https://caml.inria.fr/pub/docs/manual-ocaml/libref/Thread.html"><code>Thread</code></a> module.</li></ul><p>This is only worthwhile if multiple synchronous operations will be done inside the worker thread. If the worker thread does only one operation, the performance is identical to the asynchronous API.</p><p>Note that this performance difference does not apply to other kinds of libuv operations. For example, unlike reading from a file, reading from the network asynchronously is very fast.</p></header><nav class="odoc-toc"><ul><li><a href="#types">Types</a></li><li><a href="#standard-i/o-streams">Standard I/O streams</a></li><li><a href="#basics">Basics</a></li><li><a href="#moving-and-removing">Moving and removing</a></li><li><a href="#temporary-files">Temporary files</a></li><li><a href="#directories">Directories</a></li><li><a href="#status">Status</a></li><li><a href="#flushing">Flushing</a></li><li><a href="#transfers">Transfers</a></li><li><a href="#permissions">Permissions</a></li><li><a href="#timestamps">Timestamps</a></li><li><a href="#links">Links</a></li><li><a href="#ownership">Ownership</a></li><li><a href="#synchronous-api">Synchronous API</a></li><li><a href="#conversions">Conversions</a></li></ul></nav><div class="odoc-content"><h2 id="types"><a href="#types" class="anchor"></a>Types</h2><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span></code></div><div class="spec-doc"><p>Files.</p><p>Roughly, on Unix, these correspond to OS file descriptors, and on Windows, these are <code>HANDLE</code>s wrapped in C runtime file descriptors.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Request"><a href="#module-Request" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Request/index.html">Request</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p><a href="Request/index.html" title="Luv.File.Request">Request objects</a> that can be optionally used with this module.</p></div></div><h2 id="standard-i/o-streams"><a href="#standard-i/o-streams" class="anchor"></a>Standard I/O streams</h2><div class="odoc-spec"><div class="spec value anchored" id="val-stdin"><a href="#val-stdin" class="anchor"></a><code><span><span class="keyword">val</span> stdin : <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-stdout"><a href="#val-stdout" class="anchor"></a><code><span><span class="keyword">val</span> stdout : <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-stderr"><a href="#val-stderr" class="anchor"></a><code><span><span class="keyword">val</span> stderr : <a href="#type-t">t</a></span></code></div></div><h2 id="basics"><a href="#basics" class="anchor"></a>Basics</h2><div class="odoc-spec"><div class="spec module anchored" id="module-Open_flag"><a href="#module-Open_flag" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Open_flag/index.html">Open_flag</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p><a href="Open_flag/index.html" title="Luv.File.Open_flag">Flags</a> for use with <a href="#val-open_"><code>Luv.File.open_</code></a>. See the flags in <a href="http://man7.org/linux/man-pages/man3/open.3p.html#DESCRIPTION"><code>open(3p)</code></a>.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Mode"><a href="#module-Mode" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Mode/index.html">Mode</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p><a href="Mode/index.html" title="Luv.File.Mode">Permissions bits</a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-open_"><a href="#val-open_" class="anchor"></a><code><span><span class="keyword">val</span> open_ : 
  <span><span class="optlabel">?loop</span>:<a href="../Loop/index.html#type-t">Loop.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?request</span>:<a href="Request/index.html#type-t">Request.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?mode</span>:<span><a href="Mode/index.html#type-t">Mode.t</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="Open_flag/index.html#type-t">Open_flag.t</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span><span>(<a href="#type-t">t</a>, <a href="../Error/index.html#type-t">Error.t</a>)</span> <span class="xref-unresolved">Stdlib</span>.result</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Opens the file at the given path.</p><p>Binds <a href="http://docs.libuv.org/en/v1.x/fs.html#c.uv_fs_open"><code>uv_fs_open</code></a>. See <a href="http://man7.org/linux/man-pages/man3/open.3p.html"><code>open(3p)</code></a>. The synchronous version is <a href="Sync/index.html#val-open_"><code>Luv.File.Sync.open_</code></a>.</p><p>The default value of the <code>?mode</code> argument is <code>[`NUMERIC 0o644]</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-close"><a href="#val-close" class="anchor"></a><code><span><span class="keyword">val</span> close : 
  <span><span class="optlabel">?loop</span>:<a href="../Loop/index.html#type-t">Loop.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?request</span>:<a href="Request/index.html#type-t">Request.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span><span>(unit, <a href="../Error/index.html#type-t">Error.t</a>)</span> <span class="xref-unresolved">Stdlib</span>.result</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Closes the given file.</p><p>Binds <a href="http://docs.libuv.org/en/v1.x/fs.html#c.uv_fs_close"><code>uv_fs_close</code></a>. See <a href="http://man7.org/linux/man-pages/man3/close.3p.html"><code>close(3p)</code></a>. The synchronous version is <a href="Sync/index.html#val-close"><code>Luv.File.Sync.close</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-read"><a href="#val-read" class="anchor"></a><code><span><span class="keyword">val</span> read : 
  <span><span class="optlabel">?loop</span>:<a href="../Loop/index.html#type-t">Loop.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?request</span>:<a href="Request/index.html#type-t">Request.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?file_offset</span>:int64 <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../Buffer/index.html#type-t">Buffer.t</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span><span>(<span class="xref-unresolved">Unsigned</span>.Size_t.t, <a href="../Error/index.html#type-t">Error.t</a>)</span> <span class="xref-unresolved">Stdlib</span>.result</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Reads from the given file.</p><p>Binds <a href="http://docs.libuv.org/en/v1.x/fs.html#c.uv_fs_read"><code>uv_fs_read</code></a>. See <a href="http://man7.org/linux/man-pages/man3/readv.3p.html"><code>readv(3p)</code></a>. The synchronous version is <a href="Sync/index.html#val-read"><code>Luv.File.Sync.read</code></a>.</p><p>The incoming data is written consecutively to into the given buffers. The number of bytes that the operation tries to read is the total length of the buffers.</p><p>If you have a buffer a ready, but would like to read less bytes than the length of the buffer, use <a href="https://caml.inria.fr/pub/docs/manual-ocaml/libref/Bigarray.Array1.html#VALsub"><code>Bigarray.Array1.sub</code></a> or <a href="../Buffer/index.html#val-sub"><code>Luv.Buffer.sub</code></a> to create a shorter view of the buffer.</p><p>If the <code>?file_offset</code> argument is not specified, the read is done at the current offset into the file, and the file offset is updated. Otherwise, a positioned read is done at the given offset, and the file offset is not updated. See <a href="http://man7.org/linux/man-pages/man3/pread.3p.html"><code>pread(3p)</code></a>.</p><p>End of file is indicated by <code>Ok Unsigned.Size_t.zero</code>. Note that this is different from <a href="../Stream/index.html#val-read_start"><code>Luv.Stream.read_start</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-write"><a href="#val-write" class="anchor"></a><code><span><span class="keyword">val</span> write : 
  <span><span class="optlabel">?loop</span>:<a href="../Loop/index.html#type-t">Loop.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?request</span>:<a href="Request/index.html#type-t">Request.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?file_offset</span>:int64 <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../Buffer/index.html#type-t">Buffer.t</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span><span>(<span class="xref-unresolved">Unsigned</span>.Size_t.t, <a href="../Error/index.html#type-t">Error.t</a>)</span> <span class="xref-unresolved">Stdlib</span>.result</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Writes to the given file.</p><p>Binds <a href="http://docs.libuv.org/en/v1.x/fs.html#c.uv_fs_write"><code>uv_fs_write</code></a>. See <a href="http://man7.org/linux/man-pages/man3/writev.3p.html"><code>writev(3p)</code></a>. The synchronous version is <a href="Sync/index.html#val-write"><code>Luv.File.Sync.write</code></a>.</p><p>See <a href="#val-read"><code>Luv.File.read</code></a> for notes on the lengths of the buffers and the meaning of <code>?file_offset</code>.</p></div></div><h2 id="moving-and-removing"><a href="#moving-and-removing" class="anchor"></a>Moving and removing</h2><div class="odoc-spec"><div class="spec value anchored" id="val-unlink"><a href="#val-unlink" class="anchor"></a><code><span><span class="keyword">val</span> unlink : 
  <span><span class="optlabel">?loop</span>:<a href="../Loop/index.html#type-t">Loop.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?request</span>:<a href="Request/index.html#type-t">Request.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span><span>(unit, <a href="../Error/index.html#type-t">Error.t</a>)</span> <span class="xref-unresolved">Stdlib</span>.result</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Deletes the file at the given path.</p><p>Binds <a href="http://docs.libuv.org/en/v1.x/fs.html#c.uv_fs_unlink"><code>uv_fs_unlink</code></a>. See <a href="http://man7.org/linux/man-pages/man3/unlink.3p.html"><code>unlink(3p)</code></a>. The synchronous version is <a href="Sync/index.html#val-unlink"><code>Luv.File.Sync.unlink</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-rename"><a href="#val-rename" class="anchor"></a><code><span><span class="keyword">val</span> rename : 
  <span><span class="optlabel">?loop</span>:<a href="../Loop/index.html#type-t">Loop.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?request</span>:<a href="Request/index.html#type-t">Request.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">to_</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span><span>(unit, <a href="../Error/index.html#type-t">Error.t</a>)</span> <span class="xref-unresolved">Stdlib</span>.result</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Moves the file at the given path to the path given by <code>~to_</code>.</p><p>Binds <a href="http://docs.libuv.org/en/v1.x/fs.html#c.uv_fs_rename"><code>uv_fs_rename</code></a>. See <a href="http://man7.org/linux/man-pages/man3/rename.3p.html"><code>rename(3p)</code></a>. The synchronous version is <a href="Sync/index.html#val-rename"><code>Luv.File.Sync.rename</code></a>.</p></div></div><h2 id="temporary-files"><a href="#temporary-files" class="anchor"></a>Temporary files</h2><div class="odoc-spec"><div class="spec value anchored" id="val-mkstemp"><a href="#val-mkstemp" class="anchor"></a><code><span><span class="keyword">val</span> mkstemp : 
  <span><span class="optlabel">?loop</span>:<a href="../Loop/index.html#type-t">Loop.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?request</span>:<a href="Request/index.html#type-t">Request.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span><span>(string * <a href="#type-t">t</a>, <a href="../Error/index.html#type-t">Error.t</a>)</span> <span class="xref-unresolved">Stdlib</span>.result</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Creates a temporary file with name based on the given pattern.</p><p>Binds <a href="http://docs.libuv.org/en/v1.x/fs.html#c.uv_fs_mkstemp"><code>uv_fs_mkstemp</code></a>. See <a href="http://man7.org/linux/man-pages/man3/mkdtemp.3p.html"><code>mkstemp(3p)</code></a>. The synchronous version is <a href="Sync/index.html#val-mkstemp"><code>Luv.File.Sync.mkstemp</code></a>.</p><p>Requires libuv 1.34.0.</p><p><a href="../Require/index.html" title="Luv.Require">Feature check</a>: <code>Luv.Require.(has fs_mkstemp)</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-mkdtemp"><a href="#val-mkdtemp" class="anchor"></a><code><span><span class="keyword">val</span> mkdtemp : 
  <span><span class="optlabel">?loop</span>:<a href="../Loop/index.html#type-t">Loop.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?request</span>:<a href="Request/index.html#type-t">Request.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span><span>(string, <a href="../Error/index.html#type-t">Error.t</a>)</span> <span class="xref-unresolved">Stdlib</span>.result</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Creates a temporary directory with name based on the given pattern.</p><p>Binds <a href="http://docs.libuv.org/en/v1.x/fs.html#c.uv_fs_mkdtemp"><code>uv_fs_mkdtemp</code></a>. See <a href="http://man7.org/linux/man-pages/man3/mkdtemp.3p.html"><code>mkdtemp(3p)</code></a>. The synchronous version is <a href="Sync/index.html#val-mkdtemp"><code>Luv.File.Sync.mkdtemp</code></a>.</p></div></div><h2 id="directories"><a href="#directories" class="anchor"></a>Directories</h2><div class="odoc-spec"><div class="spec value anchored" id="val-mkdir"><a href="#val-mkdir" class="anchor"></a><code><span><span class="keyword">val</span> mkdir : 
  <span><span class="optlabel">?loop</span>:<a href="../Loop/index.html#type-t">Loop.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?request</span>:<a href="Request/index.html#type-t">Request.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?mode</span>:<span><a href="Mode/index.html#type-t">Mode.t</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span><span>(unit, <a href="../Error/index.html#type-t">Error.t</a>)</span> <span class="xref-unresolved">Stdlib</span>.result</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Creates a directory.</p><p>Binds <a href="http://docs.libuv.org/en/v1.x/fs.html#c.uv_fs_mkdir"><code>uv_fs_mkdir</code></a>. See <a href="http://man7.org/linux/man-pages/man3/mkdir.3p.html"><code>mkdir(3p)</code></a>. The synchronous version is <a href="Sync/index.html#val-mkdir"><code>Luv.File.Sync.mkdir</code></a>.</p><p>The default value of the <code>?mode</code> argument is <code>[`NUMERIC 0o755]</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-rmdir"><a href="#val-rmdir" class="anchor"></a><code><span><span class="keyword">val</span> rmdir : 
  <span><span class="optlabel">?loop</span>:<a href="../Loop/index.html#type-t">Loop.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?request</span>:<a href="Request/index.html#type-t">Request.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span><span>(unit, <a href="../Error/index.html#type-t">Error.t</a>)</span> <span class="xref-unresolved">Stdlib</span>.result</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Deletes a directory.</p><p>Binds <a href="http://docs.libuv.org/en/v1.x/fs.html#c.uv_fs_rmdir"><code>uv_fs_rmdir</code></a>. See <a href="http://man7.org/linux/man-pages/man3/rmdir.3p.html"><code>rmdir(3p)</code></a>. The synchronous version is <a href="Sync/index.html#val-rmdir"><code>Luv.File.Sync.rmdir</code></a>.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Dirent"><a href="#module-Dirent" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Dirent/index.html">Dirent</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Directory entries. Binds <a href="http://docs.libuv.org/en/v1.x/fs.html#c.uv_dirent_t"><code>uv_dirent_t</code></a>.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Dir"><a href="#module-Dir" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Dir/index.html">Dir</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Declares only <a href="Dir/index.html#type-t"><code>Luv.File.Dir.t</code></a>, which binds <a href="http://docs.libuv.org/en/v1.x/fs.html#c.uv_dir_t"><code>uv_dir_t</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-opendir"><a href="#val-opendir" class="anchor"></a><code><span><span class="keyword">val</span> opendir : 
  <span><span class="optlabel">?loop</span>:<a href="../Loop/index.html#type-t">Loop.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?request</span>:<a href="Request/index.html#type-t">Request.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span><span>(<a href="Dir/index.html#type-t">Dir.t</a>, <a href="../Error/index.html#type-t">Error.t</a>)</span> <span class="xref-unresolved">Stdlib</span>.result</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Opens the directory at the given path for listing.</p><p>Binds <a href="http://docs.libuv.org/en/v1.x/fs.html#c.uv_fs_opendir"><code>uv_fs_opendir</code></a>. See <a href="http://man7.org/linux/man-pages/man3/fdopendir.3p.html"><code>opendir(3p)</code></a>. The synchronous version is <a href="Sync/index.html#val-opendir"><code>Luv.File.Sync.opendir</code></a>.</p><p>The directory must later be closed with <a href="#val-closedir"><code>Luv.File.closedir</code></a>.</p><p>Requires libuv 1.28.0.</p><p><a href="../Require/index.html" title="Luv.Require">Feature check</a>: <code>Luv.Require.(has fs_readdir)</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-closedir"><a href="#val-closedir" class="anchor"></a><code><span><span class="keyword">val</span> closedir : 
  <span><span class="optlabel">?loop</span>:<a href="../Loop/index.html#type-t">Loop.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?request</span>:<a href="Request/index.html#type-t">Request.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="Dir/index.html#type-t">Dir.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span><span>(unit, <a href="../Error/index.html#type-t">Error.t</a>)</span> <span class="xref-unresolved">Stdlib</span>.result</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Closes the given directory.</p><p>Binds <a href="http://docs.libuv.org/en/v1.x/fs.html#c.uv_fs_closedir"><code>uv_fs_closedir</code></a>. See <a href="http://man7.org/linux/man-pages/man3/closedir.3p.html"><code>closedir(3p)</code></a>. The synchronous version is <a href="Sync/index.html#val-closedir"><code>Luv.File.Sync.closedir</code></a>.</p><p>Requires libuv 1.28.0.</p><p><a href="../Require/index.html" title="Luv.Require">Feature check</a>: <code>Luv.Require.(has fs_readdir)</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-readdir"><a href="#val-readdir" class="anchor"></a><code><span><span class="keyword">val</span> readdir : 
  <span><span class="optlabel">?loop</span>:<a href="../Loop/index.html#type-t">Loop.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?request</span>:<a href="Request/index.html#type-t">Request.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?number_of_entries</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><a href="Dir/index.html#type-t">Dir.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span><span>(<span><a href="Dirent/index.html#type-t">Dirent.t</a> array</span>, <a href="../Error/index.html#type-t">Error.t</a>)</span> <span class="xref-unresolved">Stdlib</span>.result</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Retrieves a directory entry.</p><p>Binds <a href="http://docs.libuv.org/en/v1.x/fs.html#c.uv_fs_readdir"><code>uv_fs_readdir</code></a>. See <a href="http://man7.org/linux/man-pages/man3/readdir.3p.html"><code>readdir(3p)</code></a>. The synchronous version is <a href="Sync/index.html#val-readdir"><code>Luv.File.Sync.readdir</code></a>.</p><p>Requires libuv 1.28.0.</p><p><a href="../Require/index.html" title="Luv.Require">Feature check</a>: <code>Luv.Require.(has fs_readdir)</code></p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Directory_scan"><a href="#module-Directory_scan" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Directory_scan/index.html">Directory_scan</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Abstract type of of directory scans. See <a href="#val-scandir"><code>Luv.File.scandir</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-scandir"><a href="#val-scandir" class="anchor"></a><code><span><span class="keyword">val</span> scandir : 
  <span><span class="optlabel">?loop</span>:<a href="../Loop/index.html#type-t">Loop.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?request</span>:<a href="Request/index.html#type-t">Request.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span><span>(<a href="Directory_scan/index.html#type-t">Directory_scan.t</a>, <a href="../Error/index.html#type-t">Error.t</a>)</span> <span class="xref-unresolved">Stdlib</span>.result</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Begins directory listing.</p><p>Binds <a href="http://docs.libuv.org/en/v1.x/fs.html#c.uv_fs_scandir"><code>uv_fs_scandir</code></a>. See <a href="http://man7.org/linux/man-pages/man3/scandir.3p.html"><code>scandir(3p)</code></a>. The synchronous version is <a href="Sync/index.html#val-scandir"><code>Luv.File.Sync.scandir</code></a>.</p><p>The resulting value of type <code>Directory_scan.t</code> must be cleaned up by calling <a href="#val-scandir_end"><code>Luv.File.scandir_end</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-scandir_next"><a href="#val-scandir_next" class="anchor"></a><code><span><span class="keyword">val</span> scandir_next : <span><a href="Directory_scan/index.html#type-t">Directory_scan.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="Dirent/index.html#type-t">Dirent.t</a> option</span></span></code></div><div class="spec-doc"><p>Retrieves the next directory entry.</p><p>Binds <a href="http://docs.libuv.org/en/v1.x/fs.html#c.uv_fs_scandir_next"><code>uv_fs_scandir_next</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-scandir_end"><a href="#val-scandir_end" class="anchor"></a><code><span><span class="keyword">val</span> scandir_end : <span><a href="Directory_scan/index.html#type-t">Directory_scan.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Cleans up after a directory scan.</p></div></div><h2 id="status"><a href="#status" class="anchor"></a>Status</h2><div class="odoc-spec"><div class="spec module anchored" id="module-Stat"><a href="#module-Stat" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Stat/index.html">Stat</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Binds <a href="http://docs.libuv.org/en/v1.x/fs.html#c.uv_stat_t"><code>uv_stat_t</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-stat"><a href="#val-stat" class="anchor"></a><code><span><span class="keyword">val</span> stat : 
  <span><span class="optlabel">?loop</span>:<a href="../Loop/index.html#type-t">Loop.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?request</span>:<a href="Request/index.html#type-t">Request.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span><span>(<a href="Stat/index.html#type-t">Stat.t</a>, <a href="../Error/index.html#type-t">Error.t</a>)</span> <span class="xref-unresolved">Stdlib</span>.result</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Retrieves status information for the file at the given path.</p><p>Binds <a href="http://docs.libuv.org/en/v1.x/fs.html#c.uv_fs_stat"><code>uv_fs_stat</code></a>. See <a href="http://man7.org/linux/man-pages/man3/fstatat.3p.html"><code>stat(3p)</code></a>. The synchronous version is <a href="Sync/index.html#val-stat"><code>Luv.File.Sync.stat</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-lstat"><a href="#val-lstat" class="anchor"></a><code><span><span class="keyword">val</span> lstat : 
  <span><span class="optlabel">?loop</span>:<a href="../Loop/index.html#type-t">Loop.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?request</span>:<a href="Request/index.html#type-t">Request.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span><span>(<a href="Stat/index.html#type-t">Stat.t</a>, <a href="../Error/index.html#type-t">Error.t</a>)</span> <span class="xref-unresolved">Stdlib</span>.result</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Like <a href="#val-stat"><code>Luv.File.stat</code></a>, but does not dereference symlinks.</p><p>Binds <a href="http://docs.libuv.org/en/v1.x/fs.html#c.uv_fs_lstat"><code>uv_fs_lstat</code></a>. See <a href="http://man7.org/linux/man-pages/man3/fstatat.3p.html"><code>lstat(3p)</code></a>. The synchronous version is <a href="Sync/index.html#val-lstat"><code>Luv.File.Sync.lstat</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-fstat"><a href="#val-fstat" class="anchor"></a><code><span><span class="keyword">val</span> fstat : 
  <span><span class="optlabel">?loop</span>:<a href="../Loop/index.html#type-t">Loop.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?request</span>:<a href="Request/index.html#type-t">Request.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span><span>(<a href="Stat/index.html#type-t">Stat.t</a>, <a href="../Error/index.html#type-t">Error.t</a>)</span> <span class="xref-unresolved">Stdlib</span>.result</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Like <a href="#val-stat"><code>Luv.File.stat</code></a>, but takes a file instead of a path.</p><p>Binds <a href="http://docs.libuv.org/en/v1.x/fs.html#c.uv_fs_fstat"><code>uv_fs_fstat</code></a>. See <a href="http://man7.org/linux/man-pages/man3/fstatat.3p.html"><code>fstat(3p)</code></a>. The synchronous version is <a href="Sync/index.html#val-fstat"><code>Luv.File.Sync.fstat</code></a>.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Statfs"><a href="#module-Statfs" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Statfs/index.html">Statfs</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Binds <a href="http://docs.libuv.org/en/v1.x/fs.html#c.uv_statfs_t"><code>uv_statfs_t</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-statfs"><a href="#val-statfs" class="anchor"></a><code><span><span class="keyword">val</span> statfs : 
  <span><span class="optlabel">?loop</span>:<a href="../Loop/index.html#type-t">Loop.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?request</span>:<a href="Request/index.html#type-t">Request.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span><span>(<a href="Statfs/index.html#type-t">Statfs.t</a>, <a href="../Error/index.html#type-t">Error.t</a>)</span> <span class="xref-unresolved">Stdlib</span>.result</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Retrieves status information for the filesystem containing the given path.</p><p>Binds <a href="http://docs.libuv.org/en/v1.x/fs.html#c.uv_fs_statfs"><code>uv_fs_statfs</code></a>. See <a href="http://man7.org/linux/man-pages/man2/statfs.2.html"><code>statfs(2)</code></a>. The synchronous version is <a href="Sync/index.html#val-statfs"><code>Luv.File.Sync.statfs</code></a>.</p><p>Requires libuv 1.31.0.</p><p><a href="../Require/index.html" title="Luv.Require">Feature check</a>: <code>Luv.Require.(has fs_statfs)</code></p></div></div><h2 id="flushing"><a href="#flushing" class="anchor"></a>Flushing</h2><div class="odoc-spec"><div class="spec value anchored" id="val-fsync"><a href="#val-fsync" class="anchor"></a><code><span><span class="keyword">val</span> fsync : 
  <span><span class="optlabel">?loop</span>:<a href="../Loop/index.html#type-t">Loop.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?request</span>:<a href="Request/index.html#type-t">Request.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span><span>(unit, <a href="../Error/index.html#type-t">Error.t</a>)</span> <span class="xref-unresolved">Stdlib</span>.result</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Flushes file changes to storage.</p><p>Binds <a href="http://docs.libuv.org/en/v1.x/fs.html#c.uv_fs_fsync"><code>uv_fs_fsync</code></a>. See <a href="http://man7.org/linux/man-pages/man3/fsync.3p.html"><code>fsync(3p)</code></a>. The synchronous version is <a href="Sync/index.html#val-fsync"><code>Luv.File.Sync.fsync</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-fdatasync"><a href="#val-fdatasync" class="anchor"></a><code><span><span class="keyword">val</span> fdatasync : 
  <span><span class="optlabel">?loop</span>:<a href="../Loop/index.html#type-t">Loop.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?request</span>:<a href="Request/index.html#type-t">Request.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span><span>(unit, <a href="../Error/index.html#type-t">Error.t</a>)</span> <span class="xref-unresolved">Stdlib</span>.result</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Like <a href="#val-fsync"><code>Luv.File.fsync</code></a>, but may omit some metadata.</p><p>Binds <a href="http://docs.libuv.org/en/v1.x/fs.html#c.uv_fs_fdatasync"><code>uv_fs_fdatasync</code></a>. See <a href="http://man7.org/linux/man-pages/man2/fdatasync.2.html"><code>fdatasync(2)</code></a>. The synchronous version is <a href="Sync/index.html#val-fdatasync"><code>Luv.File.Sync.fdatasync</code></a>.</p></div></div><h2 id="transfers"><a href="#transfers" class="anchor"></a>Transfers</h2><div class="odoc-spec"><div class="spec value anchored" id="val-ftruncate"><a href="#val-ftruncate" class="anchor"></a><code><span><span class="keyword">val</span> ftruncate : 
  <span><span class="optlabel">?loop</span>:<a href="../Loop/index.html#type-t">Loop.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?request</span>:<a href="Request/index.html#type-t">Request.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>int64 <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span><span>(unit, <a href="../Error/index.html#type-t">Error.t</a>)</span> <span class="xref-unresolved">Stdlib</span>.result</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Truncates the given file to the given length.</p><p>Binds <a href="http://docs.libuv.org/en/v1.x/fs.html#c.uv_fs_ftruncate"><code>uv_fs_ftruncate</code></a>. See <a href="http://man7.org/linux/man-pages/man3/ftruncate.3p.html"><code>ftruncate(3p)</code></a>. The synchronous version is <a href="Sync/index.html#val-ftruncate"><code>Luv.File.Sync.ftruncate</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-copyfile"><a href="#val-copyfile" class="anchor"></a><code><span><span class="keyword">val</span> copyfile : 
  <span><span class="optlabel">?loop</span>:<a href="../Loop/index.html#type-t">Loop.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?request</span>:<a href="Request/index.html#type-t">Request.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?excl</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?ficlone</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?ficlone_force</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">to_</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span><span>(unit, <a href="../Error/index.html#type-t">Error.t</a>)</span> <span class="xref-unresolved">Stdlib</span>.result</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Copies the file at the given path to the path given by <code>~to_</code>.</p><p>Binds <a href="http://docs.libuv.org/en/v1.x/fs.html#c.uv_fs_copyfile"><code>uv_fs_copyfile</code></a>. The synchronous version is <a href="Sync/index.html#val-copyfile"><code>Luv.File.Sync.copyfile</code></a>.</p><p>Requires libuv 1.14.0.</p><p><code>?ficlone</code> and <code>?ficlone_force</code> have no effect if the libuv version is less than 1.20.0.</p><p><a href="../Require/index.html" title="Luv.Require">Feature checks</a>:</p><ul><li><code>Luv.Require.(has fs_copyfile)</code></li><li><code>Luv.Require.(has fs_copyfile_ficlone)</code></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-sendfile"><a href="#val-sendfile" class="anchor"></a><code><span><span class="keyword">val</span> sendfile : 
  <span><span class="optlabel">?loop</span>:<a href="../Loop/index.html#type-t">Loop.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?request</span>:<a href="Request/index.html#type-t">Request.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">to_</span>:<a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">offset</span>:int64 <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Unsigned</span>.Size_t.t <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span><span>(<span class="xref-unresolved">Unsigned</span>.Size_t.t, <a href="../Error/index.html#type-t">Error.t</a>)</span> <span class="xref-unresolved">Stdlib</span>.result</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Transfers data between file descriptors.</p><p>Binds <a href="http://docs.libuv.org/en/v1.x/fs.html#c.uv_fs_sendfile"><code>uv_fs_sendfile</code></a>. See <a href="http://man7.org/linux/man-pages/man2/sendfile.2.html"><code>sendfile(2)</code></a>. The synchronous version is <a href="Sync/index.html#val-sendfile"><code>Luv.File.Sync.sendfile</code></a>.</p></div></div><h2 id="permissions"><a href="#permissions" class="anchor"></a>Permissions</h2><div class="odoc-spec"><div class="spec module anchored" id="module-Access_flag"><a href="#module-Access_flag" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Access_flag/index.html">Access_flag</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Declares <code>`F_OK</code>, <code>`R_OK</code>, <code>`W_OK</code>, <code>`X_OK</code> for use with <a href="#val-access"><code>Luv.File.access</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-access"><a href="#val-access" class="anchor"></a><code><span><span class="keyword">val</span> access : 
  <span><span class="optlabel">?loop</span>:<a href="../Loop/index.html#type-t">Loop.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?request</span>:<a href="Request/index.html#type-t">Request.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="Access_flag/index.html#type-t">Access_flag.t</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span><span>(unit, <a href="../Error/index.html#type-t">Error.t</a>)</span> <span class="xref-unresolved">Stdlib</span>.result</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Checks whether the calling process can access the file at the given path.</p><p>Binds <a href="http://docs.libuv.org/en/v1.x/fs.html#c.uv_fs_access"><code>uv_fs_access</code></a>. See <a href="http://man7.org/linux/man-pages/man3/access.3p.html"><code>access(3p)</code></a>. The synchronous version is <a href="Sync/index.html#val-access"><code>Luv.File.Sync.access</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-chmod"><a href="#val-chmod" class="anchor"></a><code><span><span class="keyword">val</span> chmod : 
  <span><span class="optlabel">?loop</span>:<a href="../Loop/index.html#type-t">Loop.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?request</span>:<a href="Request/index.html#type-t">Request.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="Mode/index.html#type-t">Mode.t</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span><span>(unit, <a href="../Error/index.html#type-t">Error.t</a>)</span> <span class="xref-unresolved">Stdlib</span>.result</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Changes permissions of the file at the given path.</p><p>Binds <a href="http://docs.libuv.org/en/v1.x/fs.html#c.uv_fs_chmod"><code>uv_fs_chmod</code></a>. See <a href="http://man7.org/linux/man-pages/man3/chmod.3p.html"><code>chmod(3p)</code></a>. The synchronous version is <a href="Sync/index.html#val-chmod"><code>Luv.File.Sync.chmod</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-fchmod"><a href="#val-fchmod" class="anchor"></a><code><span><span class="keyword">val</span> fchmod : 
  <span><span class="optlabel">?loop</span>:<a href="../Loop/index.html#type-t">Loop.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?request</span>:<a href="Request/index.html#type-t">Request.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="Mode/index.html#type-t">Mode.t</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span><span>(unit, <a href="../Error/index.html#type-t">Error.t</a>)</span> <span class="xref-unresolved">Stdlib</span>.result</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Like <a href="#val-chmod"><code>Luv.File.chmod</code></a>, but takes a file instead of a path.</p><p>Binds <a href="http://docs.libuv.org/en/v1.x/fs.html#c.uv_fs_fchmod"><code>uv_fs_fchmod</code></a>. See <a href="http://man7.org/linux/man-pages/man3/fchmod.3p.html"><code>fchmod(3p)</code></a>. The synchronous version is <a href="Sync/index.html#val-fchmod"><code>Luv.File.Sync.fchmod</code></a>.</p></div></div><h2 id="timestamps"><a href="#timestamps" class="anchor"></a>Timestamps</h2><div class="odoc-spec"><div class="spec value anchored" id="val-utime"><a href="#val-utime" class="anchor"></a><code><span><span class="keyword">val</span> utime : 
  <span><span class="optlabel">?loop</span>:<a href="../Loop/index.html#type-t">Loop.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?request</span>:<a href="Request/index.html#type-t">Request.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">atime</span>:float <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">mtime</span>:float <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span><span>(unit, <a href="../Error/index.html#type-t">Error.t</a>)</span> <span class="xref-unresolved">Stdlib</span>.result</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Sets timestamps of the file at the given path.</p><p>Binds <a href="http://docs.libuv.org/en/v1.x/fs.html#c.uv_fs_utime"><code>uv_fs_utime</code></a>. See <a href="http://man7.org/linux/man-pages/man3/utime.3p.html"><code>utime(3p)</code></a>. The synchronous version is <a href="Sync/index.html#val-utime"><code>Luv.File.Sync.utime</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-futime"><a href="#val-futime" class="anchor"></a><code><span><span class="keyword">val</span> futime : 
  <span><span class="optlabel">?loop</span>:<a href="../Loop/index.html#type-t">Loop.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?request</span>:<a href="Request/index.html#type-t">Request.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">atime</span>:float <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">mtime</span>:float <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span><span>(unit, <a href="../Error/index.html#type-t">Error.t</a>)</span> <span class="xref-unresolved">Stdlib</span>.result</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Like <a href="#val-utime"><code>Luv.File.utime</code></a>, but takes a file instead of a path.</p><p>Binds <a href="http://docs.libuv.org/en/v1.x/fs.html#c.uv_fs_futime"><code>uv_fs_futime</code></a>. See <a href="http://man7.org/linux/man-pages/man3/futimes.3.html"><code>futimes(3)</code></a>. The synchronous version is <a href="Sync/index.html#val-futime"><code>Luv.File.Sync.futime</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-lutime"><a href="#val-lutime" class="anchor"></a><code><span><span class="keyword">val</span> lutime : 
  <span><span class="optlabel">?loop</span>:<a href="../Loop/index.html#type-t">Loop.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?request</span>:<a href="Request/index.html#type-t">Request.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">atime</span>:float <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">mtime</span>:float <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span><span>(unit, <a href="../Error/index.html#type-t">Error.t</a>)</span> <span class="xref-unresolved">Stdlib</span>.result</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Like <a href="#val-utime"><code>Luv.File.utime</code></a>, but does not dereference symlinks.</p><p>Binds <a href="http://docs.libuv.org/en/v1.x/fs.html#c.uv_fs_lutime"><code>uv_fs_lutime</code></a>. See <a href="http://man7.org/linux/man-pages/man3/lutimes.3.html"><code>lutimes(3)</code></a>. The synchronous version is <a href="Sync/index.html#val-lutime"><code>Luv.File.Sync.lutime</code></a>.</p><p>Requires Luv 0.5.2 and libuv 1.36.0.</p><p><a href="../Require/index.html" title="Luv.Require">Feature check</a>: <code>Luv.Require.(has fs_lutime)</code></p></div></div><h2 id="links"><a href="#links" class="anchor"></a>Links</h2><div class="odoc-spec"><div class="spec value anchored" id="val-link"><a href="#val-link" class="anchor"></a><code><span><span class="keyword">val</span> link : 
  <span><span class="optlabel">?loop</span>:<a href="../Loop/index.html#type-t">Loop.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?request</span>:<a href="Request/index.html#type-t">Request.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">link</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span><span>(unit, <a href="../Error/index.html#type-t">Error.t</a>)</span> <span class="xref-unresolved">Stdlib</span>.result</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Hardlinks a file at the location given by <code>~link</code>.</p><p>Binds <a href="http://docs.libuv.org/en/v1.x/fs.html#c.uv_fs_link"><code>uv_fs_link</code></a>. See <a href="http://man7.org/linux/man-pages/man3/link.3p.html"><code>link(3p)</code></a>. The synchronous version is <a href="Sync/index.html#val-link"><code>Luv.File.Sync.link</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-symlink"><a href="#val-symlink" class="anchor"></a><code><span><span class="keyword">val</span> symlink : 
  <span><span class="optlabel">?loop</span>:<a href="../Loop/index.html#type-t">Loop.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?request</span>:<a href="Request/index.html#type-t">Request.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?dir</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?junction</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">link</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span><span>(unit, <a href="../Error/index.html#type-t">Error.t</a>)</span> <span class="xref-unresolved">Stdlib</span>.result</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Symlinks a file at the location given by <code>~link</code>.</p><p>Binds <a href="http://docs.libuv.org/en/v1.x/fs.html#c.uv_fs_symlink"><code>uv_fs_symlink</code></a>. See <a href="http://man7.org/linux/man-pages/man3/symlink.3p.html"><code>symlink(3p)</code></a>. The synchronous version is <a href="Sync/index.html#val-symlink"><code>Luv.File.Sync.symlink</code></a>.</p><p>See <a href="http://docs.libuv.org/en/v1.x/fs.html#c.uv_fs_symlink"><code>uv_fs_symlink</code></a> for the meaning of the optional arguments.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-readlink"><a href="#val-readlink" class="anchor"></a><code><span><span class="keyword">val</span> readlink : 
  <span><span class="optlabel">?loop</span>:<a href="../Loop/index.html#type-t">Loop.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?request</span>:<a href="Request/index.html#type-t">Request.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span><span>(string, <a href="../Error/index.html#type-t">Error.t</a>)</span> <span class="xref-unresolved">Stdlib</span>.result</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Reads the target path of a symlink.</p><p>Binds <a href="http://docs.libuv.org/en/v1.x/fs.html#c.uv_fs_readlink"><code>uv_fs_readlink</code></a>. See <a href="http://man7.org/linux/man-pages/man3/readlink.3p.html"><code>readlink(3p)</code></a>. The synchronous version is <a href="Sync/index.html#val-readlink"><code>Luv.File.Sync.readlink</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-realpath"><a href="#val-realpath" class="anchor"></a><code><span><span class="keyword">val</span> realpath : 
  <span><span class="optlabel">?loop</span>:<a href="../Loop/index.html#type-t">Loop.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?request</span>:<a href="Request/index.html#type-t">Request.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span><span>(string, <a href="../Error/index.html#type-t">Error.t</a>)</span> <span class="xref-unresolved">Stdlib</span>.result</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Resolves a real absolute path to the given file.</p><p>Binds <a href="http://docs.libuv.org/en/v1.x/fs.html#c.uv_fs_realpath"><code>uv_fs_readpath</code></a>. See <a href="http://man7.org/linux/man-pages/man3/realpath.3p.html"><code>realpath(3p)</code></a>. The synchronous version is <a href="Sync/index.html#val-realpath"><code>Luv.File.Sync.realpath</code></a>.</p><p>Requires libuv 1.8.0.</p><p><a href="../Require/index.html" title="Luv.Require">Feature check</a>: <code>Luv.Require.(has fs_realpath)</code></p></div></div><h2 id="ownership"><a href="#ownership" class="anchor"></a>Ownership</h2><div class="odoc-spec"><div class="spec value anchored" id="val-chown"><a href="#val-chown" class="anchor"></a><code><span><span class="keyword">val</span> chown : 
  <span><span class="optlabel">?loop</span>:<a href="../Loop/index.html#type-t">Loop.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?request</span>:<a href="Request/index.html#type-t">Request.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">uid</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">gid</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span><span>(unit, <a href="../Error/index.html#type-t">Error.t</a>)</span> <span class="xref-unresolved">Stdlib</span>.result</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Changes owneship of the file at the given path.</p><p>Binds <a href="http://docs.libuv.org/en/v1.x/fs.html#c.uv_fs_chown"><code>uv_fs_chown</code></a>. See <a href="http://man7.org/linux/man-pages/man3/chown.3p.html"><code>chown(3p)</code></a>. The synchronous version is <a href="Sync/index.html#val-chown"><code>Luv.File.Sync.chown</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-lchown"><a href="#val-lchown" class="anchor"></a><code><span><span class="keyword">val</span> lchown : 
  <span><span class="optlabel">?loop</span>:<a href="../Loop/index.html#type-t">Loop.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?request</span>:<a href="Request/index.html#type-t">Request.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">uid</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">gid</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span><span>(unit, <a href="../Error/index.html#type-t">Error.t</a>)</span> <span class="xref-unresolved">Stdlib</span>.result</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Like <a href="#val-chown"><code>Luv.File.chown</code></a>, but does not dereference symlinks.</p><p>Binds <a href="http://docs.libuv.org/en/v1.x/fs.html#c.uv_fs_lchown"><code>uv_fs_lchown</code></a>. See <a href="http://man7.org/linux/man-pages/man3/lchown.3p.html"><code>lchown(3p)</code></a>. The synchronous version is <a href="Sync/index.html#val-lchown"><code>Luv.File.Sync.lchown</code></a>.</p><p>Requires libuv 1.21.0.</p><p><a href="../Require/index.html" title="Luv.Require">Feature check</a>: <code>Luv.Require.(has fs_lchown)</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-fchown"><a href="#val-fchown" class="anchor"></a><code><span><span class="keyword">val</span> fchown : 
  <span><span class="optlabel">?loop</span>:<a href="../Loop/index.html#type-t">Loop.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?request</span>:<a href="Request/index.html#type-t">Request.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">uid</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">gid</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span><span>(unit, <a href="../Error/index.html#type-t">Error.t</a>)</span> <span class="xref-unresolved">Stdlib</span>.result</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Like <a href="#val-chown"><code>Luv.File.chown</code></a>, but takes a file instead of a path.</p><p>Binds <a href="http://docs.libuv.org/en/v1.x/fs.html#c.uv_fs_fchown"><code>uv_fs_fchown</code></a>. See <a href="http://man7.org/linux/man-pages/man3/fchown.3p.html"><code>fchown(3p)</code></a>. The synchronous version is <a href="Sync/index.html#val-fchown"><code>Luv.File.Sync.fchown</code></a>.</p></div></div><h2 id="synchronous-api"><a href="#synchronous-api" class="anchor"></a>Synchronous API</h2><div class="odoc-spec"><div class="spec module anchored" id="module-Sync"><a href="#module-Sync" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Sync/index.html">Sync</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><h2 id="conversions"><a href="#conversions" class="anchor"></a>Conversions</h2><div class="odoc-spec"><div class="spec value anchored" id="val-get_osfhandle"><a href="#val-get_osfhandle" class="anchor"></a><code><span><span class="keyword">val</span> get_osfhandle : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="../Os_fd/Fd/index.html#type-t">Os_fd.Fd.t</a>, <a href="../Error/index.html#type-t">Error.t</a>)</span> <span class="xref-unresolved">Stdlib</span>.result</span></span></code></div><div class="spec-doc"><p>Converts a <a href="#type-t"><code>Luv.File.t</code></a> to an OS file handle.</p><p>Binds <a href="http://docs.libuv.org/en/v1.x/fs.html#c.uv_get_osfhandle"><code>uv_get_osfhandle</code></a>. See <a href="https://docs.microsoft.com/en-us/cpp/c-runtime-library/reference/get-osfhandle"><code>_get_osfhandle</code></a>.</p><p>On Unix-like systems, this passes the file descriptor through unchanged. On Windows, a <a href="#type-t"><code>Luv.File.t</code></a> is an C runtime library file descritpor. This function converts it to a <code>HANDLE</code>.</p><p>Requires libuv 1.12.0.</p><p><a href="../Require/index.html" title="Luv.Require">Feature check</a>: <code>Luv.Require.(has get_osfhandle)</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-open_osfhandle"><a href="#val-open_osfhandle" class="anchor"></a><code><span><span class="keyword">val</span> open_osfhandle : <span><a href="../Os_fd/Fd/index.html#type-t">Os_fd.Fd.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="#type-t">t</a>, <a href="../Error/index.html#type-t">Error.t</a>)</span> <span class="xref-unresolved">Stdlib</span>.result</span></span></code></div><div class="spec-doc"><p>Inverse of <a href="#val-get_osfhandle"><code>Luv.File.get_osfhandle</code></a>.</p><p>Binds <a href="http://docs.libuv.org/en/v1.x/fs.html#c.uv_open_osfhandle"><code>uv_open_osfhandle</code></a>. See <a href="https://docs.microsoft.com/en-us/cpp/c-runtime-library/reference/open-osfhandle"><code>_open_osfhandle</code></a>.</p><p>Requires libuv 1.23.0.</p><p><a href="../Require/index.html" title="Luv.Require">Feature check</a>: <code>Luv.Require.(has open_osfhandle)</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-to_int"><a href="#val-to_int" class="anchor"></a><code><span><span class="keyword">val</span> to_int : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p>Returns the integer representation of a <a href="#type-t"><code>Luv.File.t</code></a>.</p><p><a href="#type-t"><code>Luv.File.t</code></a> is defined as an integer file descriptor by libuv on all platforms at the moment. This is a convenience function for interoperability with <a href="../Process/index.html"><code>Luv.Process</code></a>, the API of which assumes that files are represented by integers.</p></div></div></div></body></html>
