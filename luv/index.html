<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>index (luv.index)</title><meta charset="utf-8"/><link rel="stylesheet" href="../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> – luv</nav><header class="odoc-preamble"><h1 id="luv"><a href="#luv" class="anchor"></a>Luv</h1><p><a href="https://github.com/aantron/luv">Luv</a> is a binding to <a href="https://libuv.org/">libuv</a>, the cross-platform C library that does asynchronous I/O in Node.js and runs Node's main loop.</p><pre class="language-ocaml"><code>let () =
  Luv.DNS.getaddrinfo ~family:`INET ~node:&quot;google.com&quot; ~service:&quot;80&quot; ()
      begin fun result -&gt;

    let address = (List.hd (Result.get_ok result)).addr in
    let socket = Luv.TCP.init () |&gt; Result.get_ok in
    Luv.TCP.connect socket address begin fun _ -&gt;

      Luv.Stream.write socket [Luv.Buffer.from_string &quot;GET / HTTP/1.1\r\n\r\n&quot;]
        (fun _ _ -&gt; Luv.Stream.shutdown socket ignore);

      Luv.Stream.read_start socket (function
        | Error `EOF -&gt; Luv.Handle.close socket ignore
        | Error _ -&gt; exit 2
        | Ok response -&gt; print_string (Luv.Buffer.to_string response))

    end
  end;

  ignore (Luv.Loop.run () : bool)</code></pre><p>This is the auto-generated API reference. For more conceptual information and examples, see:</p><ul><li><a href="https://github.com/aantron/luv">Project page</a></li><li><a href="../index.html">User guide</a></li><li><a href="https://github.com/aantron/luv/tree/master/example">Examples</a>, which are presented in the user guide.</li></ul></header><nav class="odoc-toc"><ul><li><a href="#api-reference">API reference</a><ul><li><a href="#basics">Basics</a></li><li><a href="#main-interface">Main interface</a></li><li><a href="#system-threads">System threads</a></li><li><a href="#miscellaneous">Miscellaneous</a></li></ul></li></ul></nav><div class="odoc-content"><h2 id="api-reference"><a href="#api-reference" class="anchor"></a>API reference</h2><h3 id="basics"><a href="#basics" class="anchor"></a>Basics</h3><ul><li><a href="Luv/Error/index.html"><code>Luv.Error</code></a> — error handling</li><li><a href="Luv/Loop/index.html"><code>Luv.Loop</code></a> — event loops</li><li><a href="Luv/Buffer/index.html"><code>Luv.Buffer</code></a> — byte buffers</li><li><a href="Luv/Handle/index.html"><code>Luv.Handle</code></a> — persistent objects (sockets, etc.)</li><li><a href="Luv/Stream/index.html"><code>Luv.Stream</code></a> — base type for TCP sockets, pipes, TTY handles</li><li><a href="Luv/Request/index.html"><code>Luv.Request</code></a> — contexts for asynchronous requests</li></ul><h3 id="main-interface"><a href="#main-interface" class="anchor"></a>Main interface</h3><ul><li><a href="Luv/Timer/index.html"><code>Luv.Timer</code></a> — timers</li><li><a href="Luv/Signal/index.html"><code>Luv.Signal</code></a> — signals</li><li><a href="Luv/Process/index.html"><code>Luv.Process</code></a> — subprocesses</li><li><a href="Luv/TCP/index.html"><code>Luv.TCP</code></a> — TCP sockets</li><li><a href="Luv/UDP/index.html"><code>Luv.UDP</code></a> — UDP sockets</li><li><a href="Luv/DNS/index.html"><code>Luv.DNS</code></a> — DNS</li><li><a href="Luv/Pipe/index.html"><code>Luv.Pipe</code></a> — pipes</li><li><a href="Luv/TTY/index.html"><code>Luv.TTY</code></a> — consoles</li><li><a href="Luv/File/index.html"><code>Luv.File</code></a> — file operations</li><li><a href="Luv/FS_event/index.html"><code>Luv.FS_event</code></a> — filesystem events</li></ul><h3 id="system-threads"><a href="#system-threads" class="anchor"></a>System threads</h3><ul><li><a href="Luv/Thread_pool/index.html"><code>Luv.Thread_pool</code></a> — libuv thread pool</li><li><a href="Luv/Thread/index.html"><code>Luv.Thread</code></a> — general system threads</li><li><a href="Luv/TLS/index.html"><code>Luv.TLS</code></a> — thread-local storage</li><li><a href="Luv/Once/index.html"><code>Luv.Once</code></a> — once-only barriers</li><li><a href="Luv/Mutex/index.html"><code>Luv.Mutex</code></a> — mutexes</li><li><a href="Luv/Rwlock/index.html"><code>Luv.Rwlock</code></a> — read-write locks</li><li><a href="Luv/Semaphore/index.html"><code>Luv.Semaphore</code></a> — semaphores</li><li><a href="Luv/Condition/index.html"><code>Luv.Condition</code></a> — condition variables</li><li><a href="Luv/Barrier/index.html"><code>Luv.Barrier</code></a> — barriers</li></ul><h3 id="miscellaneous"><a href="#miscellaneous" class="anchor"></a>Miscellaneous</h3><ul><li><a href="Luv/Env/index.html"><code>Luv.Env</code></a> — environment variables</li><li><a href="Luv/Time/index.html"><code>Luv.Time</code></a> — current time</li><li><a href="Luv/Path/index.html"><code>Luv.Path</code></a> — relevant directories</li><li><a href="Luv/Random/index.html"><code>Luv.Random</code></a> — system entropy source</li><li><a href="Luv/Sockaddr/index.html"><code>Luv.Sockaddr</code></a> — network addresses</li><li><a href="Luv/Network/index.html"><code>Luv.Network</code></a> — network interfaces and hostname</li><li><a href="Luv/FS_poll/index.html"><code>Luv.FS_poll</code></a> — filesystem polling</li><li><a href="Luv/Poll/index.html"><code>Luv.Poll</code></a> — file descriptor polling</li><li><a href="Luv/Resource/index.html"><code>Luv.Resource</code></a> — resource usage</li><li><a href="Luv/System_info/index.html"><code>Luv.System_info</code></a> — system information</li><li><a href="Luv/Pid/index.html"><code>Luv.Pid</code></a> — process ids</li><li><a href="Luv/Os_fd/index.html"><code>Luv.Os_fd</code></a> — system file descriptor interop</li><li><a href="Luv/DLL/index.html"><code>Luv.DLL</code></a> — dynamic linking</li><li><a href="Luv/Passwd/index.html"><code>Luv.Passwd</code></a> — current user information</li><li><a href="Luv/Async/index.html"><code>Luv.Async</code></a> — inter-loop communication</li><li><a href="Luv/Metrics/index.html"><code>Luv.Metrics</code></a> — loop metrics</li><li><a href="Luv/Prepare/index.html"><code>Luv.Prepare</code></a> — pre-I/O callbacks</li><li><a href="Luv/Check/index.html"><code>Luv.Check</code></a> — post-I/O callbacks</li><li><a href="Luv/Idle/index.html"><code>Luv.Idle</code></a> — per-iteration callbacks</li><li><a href="Luv/String/index.html"><code>Luv.String</code></a> — UTF-16 manipulation for Windows</li><li><a href="Luv/Version/index.html"><code>Luv.Version</code></a> — libuv version</li><li><a href="Luv/Require/index.html"><code>Luv.Require</code></a> — feature checks</li></ul></div></body></html>
